{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImage(inputValue) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '43094925-102acc99687b818cc3e092daf',\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export function imageTemplate(images) {\n  return images\n    .map(\n      image =>\n        `<li class=\"gallery-item\">\n           <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n             <img\n               class=\"gallery-image\"\n               width=\"1280\"\n               height=\"152\"\n               src=\"${image.webformatURL}\"\n               data-source=\"${image.largeImageURL}\"\n               alt=\"${image.tags}\"\n             />\n             </a>\n             <ul class=\"gallery-description\">\n             <li><h3>Likes</h3><p>${image.likes}</p>\n             </li>\n             <li><h3>Views</h3><p>${image.views}</p>\n               </li>\n               <li><h3>Comments</h3><p>${image.comments}</p>\n                 </li>\n                 <li><h3>Downloads</h3><p>${image.downloads}</p>\n                   </li>\n             </ul>\n           </li>`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImage } from './js/pixabay-api.js';\nimport { imageTemplate } from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst inputForm = document.querySelector('.input-form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const imageSearch = inputForm.value.trim();\n  if (imageSearch === '') return;\n\n  gallery.innerHTML = '<div class=\"loader\"></div>';\n\n  getImage(imageSearch)\n    .then(data => {\n      const markup = imageTemplate(data.hits);\n      gallery.innerHTML = markup;\n\n      const lightbox = new SimpleLightbox('.gallery-link', {\n        captionsData: 'alt',\n        captionsDelay: 250,\n      });\n      lightbox.refresh();\n      if (data.hits.length === 0) {\n        iziToast.error({\n          maxWidth: '432px',\n          height: '48px',\n          color: 'red',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        maxWidth: '432px',\n        height: '48px',\n        color: 'red',\n        position: 'topRight',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    })\n    .finally(() => {\n      form.reset();\n    });\n}\n"],"names":["getImage","inputValue","BASE_URL","params","url","response","imageTemplate","images","image","form","inputForm","gallery","handleSubmit","event","imageSearch","data","markup","SimpleLightbox","iziToast","error"],"mappings":"6vBAAO,SAASA,EAASC,EAAY,CACnC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCjBO,SAASC,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IACCC,GACE;AAAA,2CACmCA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKxCA,EAAM,YAAY;AAAA,8BACVA,EAAM,aAAa;AAAA,sBAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,oCAIIA,EAAM,KAAK;AAAA;AAAA,oCAEXA,EAAM,KAAK;AAAA;AAAA,yCAENA,EAAM,QAAQ;AAAA;AAAA,4CAEXA,EAAM,SAAS;AAAA;AAAA;AAAA,iBAItD,EACA,KAAK,EAAE,CACZ,CCnBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAcJ,EAAU,MAAM,KAAI,EACpCI,IAAgB,KAEpBH,EAAQ,UAAY,6BAEpBX,EAASc,CAAW,EACjB,KAAKC,GAAQ,CACZ,MAAMC,EAASV,EAAcS,EAAK,IAAI,EACtCJ,EAAQ,UAAYK,EAEH,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,cAAe,GACvB,CAAO,EACQ,QAAO,EACZF,EAAK,KAAK,SAAW,GACvBG,EAAS,MAAM,CACb,SAAU,QACV,OAAQ,OACR,MAAO,MACP,SAAU,WACV,QACE,0EACZ,CAAS,CAET,CAAK,EACA,MAAMC,GAAS,CACdD,EAAS,MAAM,CACb,SAAU,QACV,OAAQ,OACR,MAAO,MACP,SAAU,WACV,QACE,0EACV,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbT,EAAK,MAAK,CAChB,CAAK,EACL"}